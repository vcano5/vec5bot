<!DOCTYPE html>
<html>
<head>
	<title>Traductor IBM</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
	<form id="form">
		<input type="text" id="texto" placeholder="Introduce un texto">

		 <select id="opcion">
		 	<option value="es-en"> Espa単ol > Ingles </option>
		 	<option value="en-es"> Ingles > Espa単ol </option>
		 	<option value="es-fr"> Espa単ol > Frances </option>
		 	<option value="es-ca"> Espa単ol > Catalan </option>
		 </select>

		<input type="submit" value="Traducir" />
		<button id="tradosb"> Traducir b </button>
	</form>

	<div id="traducciontexto"></div>

	<script type="text/javascript">
		//https://vec5bot.herokuapp.com/trados?to={{modelo_traduccion}}&texto={{texto_traduccion}}

		document.getElementById('form').onsubmit = function (event) {
    		event.preventDefault()

    		var e = document.getElementById("opcion");
			var idioma = e.options[e.selectedIndex].value;
    		//var idioma = document.getElementById('opcion').options[document.getElementById('opcion'.selectedIndex)].value;
    		var texto = document.getElementById('texto').value;


    		var o = $('tradosb').val().replace(/\s/g, "+");
			/*$.ajax({
				url: window.location.host
			})*/

			console.log(idioma)
			console.log(texto)
			$.get("trados?to= " + idioma + "texto=" + texto).done(function(data) {
				console.log(data)
				document.getElementById('traducciontexto').innerHTML = data;
			})
    	}


	</script>
	
</body>
</html>